<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shengfa OS | å…¨çƒåŸ·è¡Œé•·æœ€é«˜æŒ‡æ®çµ‚ç«¯ (Ultraç‰ˆ)</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&family=Share+Tech+Mono&display=swap');
        
        :root { 
            --sf-gold: #c5a059; --sf-red: #8c1515; --sf-dark: #05070a; 
            --sf-panel: rgba(13, 17, 23, 0.85); --sf-border: #30363d; --sf-text: #c9d1d9; 
            --sf-highlight: rgba(197, 160, 89, 0.15); --sf-cyan: #58a6ff;
        }
        body { margin: 0; overflow: hidden; background: url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80') center/cover no-repeat; font-family: 'Noto Sans TC', sans-serif; color: var(--sf-text); height: 100vh; user-select: none; }
        
        /* æ¡Œé¢èˆ‡åœ–ç¤º */
        .desktop { height: calc(100vh - 50px); position: relative; padding: 20px; display: flex; flex-direction: column; flex-wrap: wrap; gap: 20px; align-content: flex-start; z-index: 10; }
        .app-icon { width: 100px; height: 105px; display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer; border-radius: 8px; transition: 0.2s; text-align: center; border: 1px solid transparent; }
        .app-icon:hover { background: rgba(0,0,0,0.4); border: 1px solid rgba(197,160,89,0.4); box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
        .app-icon .icon-img { font-size: 2.8rem; margin-bottom: 8px; filter: drop-shadow(0 4px 6px rgba(0,0,0,0.8)); transition: 0.2s; }
        .app-icon:active .icon-img { transform: scale(0.9); }
        .app-icon span { font-size: 0.85rem; font-weight: bold; text-shadow: 0 2px 5px #000; color: #fff; line-height: 1.2; }
        .badge-icon { background: var(--sf-red); color: white; border-radius: 12px; padding: 2px 6px; font-size: 0.7rem; position: absolute; top: 5px; right: 15px; box-shadow: 0 0 10px var(--sf-red); font-weight: bold; }

        /* ä»»å‹™æ¬„ */
        .taskbar { height: 50px; background: rgba(5, 7, 10, 0.95); backdrop-filter: blur(15px); border-top: 1px solid var(--sf-border); position: absolute; bottom: 0; width: 100%; display: flex; justify-content: space-between; align-items: center; padding: 0 15px; box-sizing: border-box; z-index: 9999; box-shadow: 0 -5px 20px rgba(0,0,0,0.5); }
        .start-btn { background: transparent; color: var(--sf-gold); border: 1px solid var(--sf-gold); padding: 8px 20px; border-radius: 4px; font-weight: 900; font-size: 1rem; cursor: pointer; display: flex; align-items: center; gap: 10px; transition: 0.3s; }
        .start-btn:hover { background: var(--sf-gold); color: #000; box-shadow: 0 0 15px rgba(197,160,89,0.5); }
        .taskbar-apps { display: flex; gap: 8px; flex: 1; margin-left: 20px; overflow-x: auto; }
        .task-app { padding: 8px 15px; background: rgba(255,255,255,0.05); border-radius: 4px; border-bottom: 2px solid var(--sf-gold); font-size: 0.85rem; cursor: pointer; transition: 0.2s; color: #fff; font-weight: bold; display: flex; align-items: center; gap: 8px; }
        .task-app:hover { background: rgba(255,255,255,0.15); }
        .task-app.minimized { border-bottom-color: #555; opacity: 0.6; }
        .sys-tray { display: flex; align-items: center; gap: 20px; font-family: 'Share Tech Mono', monospace; font-size: 1rem; color: #fff; }

        /* è¦–çª—å…±ç”¨ç³»çµ± */
        .window { position: absolute; background: var(--sf-panel); backdrop-filter: blur(20px); border: 1px solid var(--sf-border); border-radius: 8px; box-shadow: 0 20px 60px rgba(0,0,0,0.9); display: none; flex-direction: column; overflow: hidden; min-width: 600px; min-height: 400px; z-index: 100; transition: transform 0.2s ease, opacity 0.2s ease; }
        .window.maximized { top: 0 !important; left: 0 !important; width: 100vw !important; height: calc(100vh - 50px) !important; border-radius: 0; }
        .window-header { background: rgba(1, 4, 9, 0.9); padding: 12px 15px; display: flex; justify-content: space-between; align-items: center; cursor: grab; border-bottom: 1px solid var(--sf-border); }
        .window-header:active { cursor: grabbing; }
        .window-title { font-weight: bold; font-size: 0.95rem; color: #fff; display: flex; align-items: center; gap: 8px; letter-spacing: 1px; }
        .window-controls { display: flex; gap: 15px; }
        .window-controls span { cursor: pointer; font-size: 1.1rem; color: #8b949e; transition: 0.2s; font-weight: bold; }
        .window-controls span:hover { color: #fff; }
        .window-controls .close:hover { color: #ff7b72; }
        .window-body { padding: 0; flex: 1; overflow-y: auto; display: flex; flex-direction: column; background: rgba(0,0,0,0.2); }

        /* UI å…ƒä»¶ */
        .btn { padding: 8px 15px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; transition: 0.2s; font-size: 0.9rem; }
        .btn-primary { background: var(--sf-gold); color: #000; }
        .btn-primary:hover { background: #e5c37f; box-shadow: 0 0 10px rgba(197,160,89,0.5); }
        .btn-danger { background: var(--sf-red); color: white; }
        .btn-danger:hover { background: #b31b1b; }
        table { width: 100%; border-collapse: collapse; text-align: left; }
        th, td { padding: 12px 20px; border-bottom: 1px solid var(--sf-border); }
        th { background: rgba(0,0,0,0.4); color: #8b949e; font-size: 0.85rem; }
        tr:hover { background: var(--sf-highlight); }
        
        /* å°ˆå±¬ï¼šéƒµä»¶ç³»çµ± */
        .mail-layout { display: flex; height: 100%; }
        .mail-list { width: 300px; border-right: 1px solid var(--sf-border); background: rgba(0,0,0,0.3); overflow-y: auto; }
        .mail-item { padding: 15px; border-bottom: 1px solid var(--sf-border); cursor: pointer; transition: 0.2s; }
        .mail-item:hover, .mail-item.active { background: var(--sf-highlight); border-left: 3px solid var(--sf-gold); }
        .mail-sender { font-weight: bold; color: #fff; font-size: 0.95rem; margin-bottom: 5px; }
        .mail-subject { color: var(--sf-cyan); font-size: 0.85rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .mail-content-pane { flex: 1; padding: 30px; background: var(--sf-dark); overflow-y: auto; }
        .mail-header { border-bottom: 1px solid var(--sf-border); padding-bottom: 20px; margin-bottom: 20px; }

        /* å°ˆå±¬ï¼šå…¨æ¯æœƒè­°ç³»çµ± */
        .holo-screen { flex: 1; background: radial-gradient(circle at center, #00152b 0%, #000 100%); display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; overflow: hidden; }
        .radar { width: 200px; height: 200px; border: 2px solid var(--sf-cyan); border-radius: 50%; position: absolute; display: none; }
        .radar::before { content: ''; position: absolute; top: 0; left: 50%; width: 50%; height: 100%; background: linear-gradient(90deg, transparent, rgba(88,166,255,0.5)); transform-origin: left center; animation: radarSpin 2s linear infinite; }
        @keyframes radarSpin { 100% { transform: rotate(360deg); } }
        .connect-btn { font-size: 1.5rem; padding: 15px 40px; border-radius: 30px; box-shadow: 0 0 20px var(--sf-gold); }

        /* å°ˆå±¬ï¼šè¡Œç¨‹è¡¨ */
        .cal-header { display: flex; justify-content: space-between; padding: 20px; background: rgba(0,0,0,0.5); border-bottom: 1px solid var(--sf-border); }
        .event-item { display: flex; margin: 0 20px; padding: 15px 0; border-bottom: 1px dashed var(--sf-border); align-items: center; }
        .event-time { width: 100px; font-family: 'Share Tech Mono'; color: var(--sf-gold); font-size: 1.1rem; font-weight: bold; }
        .event-detail { flex: 1; }
        .event-detail h4 { margin: 0 0 5px 0; color: #fff; font-size: 1.1rem; }
        .event-detail p { margin: 0; color: #888; font-size: 0.9rem; }

        /* å°ˆå±¬ï¼šçµ‚ç«¯æ©Ÿ */
        .cmd-window { background: #000; color: #0f0; font-family: 'Share Tech Mono', monospace; padding: 20px; flex: 1; overflow-y: auto; font-size: 1.1rem; }
        .cmd-input-line { display: flex; margin-top: 10px; }
        .cmd-prefix { color: var(--sf-gold); margin-right: 10px; }
        .cmd-input { background: transparent; border: none; color: #0f0; font-family: inherit; font-size: inherit; flex: 1; outline: none; }

        /* Toast æç¤º */
        #toast { position: fixed; top: 20px; right: 20px; background: var(--sf-gold); color: #000; padding: 15px 25px; border-radius: 4px; font-weight: bold; font-size: 1rem; box-shadow: 0 5px 20px rgba(0,0,0,0.8); z-index: 10000; display: none; }
    </style>
</head>
<body onload="initOS()">

    <div id="toast">âœ… ç³»çµ±è¨Šæ¯</div>

    <div class="desktop">
        <div class="app-icon" ondblclick="openWindow('win-erp')">
            <div class="icon-img">ğŸ“Š</div><span>ERP æˆ°æƒ…ä¸­æ¨</span>
        </div>
        <div class="app-icon" style="position: relative;" ondblclick="openWindow('win-bpm')">
            <div class="badge-icon" id="badge-bpm">3</div>
            <div class="icon-img">âœ…</div><span>å…¨çƒå…¬æ–‡ç°½æ ¸</span>
        </div>
        <div class="app-icon" style="position: relative;" ondblclick="openWindow('win-mail')">
            <div class="badge-icon" id="badge-mail">2</div>
            <div class="icon-img">âœ‰ï¸</div><span>æœ€é«˜æ©Ÿå¯†éƒµä»¶</span>
        </div>
        <div class="app-icon" ondblclick="openWindow('win-cal')">
            <div class="icon-img">ğŸ“…</div><span>åŸ·è¡Œé•·è¡Œç¨‹è¡¨</span>
        </div>
        <div class="app-icon" ondblclick="openWindow('win-meeting')">
            <div class="icon-img">ğŸŒ</div><span>å…¨æ¯è¦–è¨Šæœƒè­°</span>
        </div>
        <div class="app-icon" ondblclick="openWindow('win-terminal')">
            <div class="icon-img">ğŸ’»</div><span>ç³»çµ±åº•å±¤çµ‚ç«¯</span>
        </div>
    </div>

    <div class="window" id="win-erp" style="top: 30px; left: 50px; width: 850px; height: 550px;">
        <div class="window-header" onmousedown="dragWindow(event, 'win-erp')">
            <div class="window-title">ğŸ“Š Shengfa ERP - åŸ·è¡Œé•·æˆ°ç•¥å„€è¡¨æ¿</div>
            <div class="window-controls">
                <span onclick="minimizeWindow('win-erp')">_</span>
                <span onclick="maximizeWindow('win-erp')">â–¡</span>
                <span class="close" onclick="closeWindow('win-erp')">âœ–</span>
            </div>
        </div>
        <div class="window-body" style="padding: 25px;">
            <h2 style="margin-top:0; color:#fff;">é›†åœ˜ç‡Ÿé‹èˆ‡è²¡å‹™æ°´ä½ (å¯¦æ™‚é€£ç·š)</h2>
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">
                <div style="background: rgba(0,0,0,0.5); padding: 20px; border-radius: 6px; border: 1px solid var(--sf-border);">
                    <div style="color:#8b949e;">ç¸½å¸‚å€¼ (NTD)</div>
                    <div style="font-family: 'Share Tech Mono'; font-size: 2rem; color: var(--sf-gold); margin: 10px 0;">1,576 å…†</div>
                    <div style="color:#3fb950; font-size:0.85rem;">â–² +0.5% (TPE: 7352)</div>
                </div>
                <div style="background: rgba(0,0,0,0.5); padding: 20px; border-radius: 6px; border: 1px solid var(--sf-border);">
                    <div style="color:#8b949e;">ç¾é‡‘å„²å‚™ (NTD)</div>
                    <div style="font-family: 'Share Tech Mono'; font-size: 2rem; color: #fff; margin: 10px 0;">971 å…†</div>
                    <div style="color:#8b949e; font-size:0.85rem;">é–å®šæ–¼ 12 åº§é‡å­é‡‘åº«</div>
                </div>
                <div style="background: rgba(0,0,0,0.5); padding: 20px; border-radius: 6px; border: 1px solid var(--sf-border);">
                    <div style="color:#8b949e;">å…¨çƒå» å€é‹ä½œç‹€æ…‹</div>
                    <div style="font-family: 'Share Tech Mono'; font-size: 2rem; color: var(--sf-cyan); margin: 10px 0;">742 / 742</div>
                    <div style="color:#3fb950; font-size:0.85rem;">â— Uptime 100%</div>
                </div>
            </div>
            <h3 style="color:#fff; margin-top: 30px; border-bottom: 1px solid var(--sf-border); padding-bottom: 10px;">é‡å¤§å°ˆæ¡ˆåŸ·è¡Œç‡</h3>
            <div style="margin-bottom: 15px;">
                <div style="display:flex; justify-content:space-between; margin-bottom: 5px;"><span>ç¬¬ä¸ƒä»£æ˜Ÿéš›é€šè¨Šé™£åˆ— (é ç®— 4500å„„)</span><span>78%</span></div>
                <div style="width:100%; height:12px; background:#222; border-radius:6px; overflow:hidden;"><div style="width:78%; height:100%; background:var(--sf-gold);"></div></div>
            </div>
            <div>
                <div style="display:flex; justify-content:space-between; margin-bottom: 5px;"><span>æ¥µå…ƒç§‘å¤§-åœ‹å®¶æ•¸ä½ç›¾ç‰Œ (é ç®— 650å„„)</span><span>42%</span></div>
                <div style="width:100%; height:12px; background:#222; border-radius:6px; overflow:hidden;"><div style="width:42%; height:100%; background:var(--sf-cyan);"></div></div>
            </div>
        </div>
    </div>

    <div class="window" id="win-bpm" style="top: 80px; left: 100px; width: 800px; height: 500px;">
        <div class="window-header" onmousedown="dragWindow(event, 'win-bpm')">
            <div class="window-title">âœ… Shengfa BPM - ç°½æ ¸æµç¨‹</div>
            <div class="window-controls">
                <span onclick="minimizeWindow('win-bpm')">_</span>
                <span onclick="maximizeWindow('win-bpm')">â–¡</span>
                <span class="close" onclick="closeWindow('win-bpm')">âœ–</span>
            </div>
        </div>
        <div class="window-body">
            <table>
                <tr><th>å–®è™Ÿ</th><th>å¯†ç­‰</th><th>ç™¼æ–‡å–®ä½</th><th>ä¸»æ—¨</th><th>æ“ä½œ</th></tr>
                <tr id="doc-1">
                    <td>PR-992</td><td><span style="color:#ff7b72; font-weight:bold;">æ¥µæ€¥ä»¶</span></td><td>æ­æ´²ä½µè³¼éƒ¨</td>
                    <td style="color:#fff;">æ”¶è³¼å¾·åœ‹ç¬¬ä¸€å¤§è»Šç”¨æ™¶ç‰‡å»  (é ç®— 3.2 å…†)</td>
                    <td><button class="btn btn-primary" onclick="approveDoc('doc-1', 'ä½µè³¼æ¡ˆå·²æ ¸å‡†ï¼è³‡é‡‘å·²ç”± FICO æ¨¡çµ„æ”¾è¡Œã€‚')">æ ¸å‡†</button></td>
                </tr>
                <tr id="doc-2">
                    <td>HR-884</td><td>æ™®é€š</td><td>æ¥µå…ƒç§‘å¤§ æ•™å‹™è™•</td>
                    <td style="color:#fff;">ç‹é–”å¼˜å‰¯æ ¡é•·æå ±ä¹‹ 300 åå¤©æ‰èè‹±ç›´å‡ä»»ç”¨æ¡ˆ</td>
                    <td><button class="btn btn-primary" onclick="approveDoc('doc-2', 'äººäº‹æ¡ˆå·²æ ¸å‡†ï¼HR å°‡ç™¼é€ 1200 è¬èµ·è–ªè˜æ›¸ã€‚')">æ ¸å‡†</button></td>
                </tr>
                <tr id="doc-3">
                    <td>EXP-105</td><td><span style="color:var(--sf-gold); font-weight:bold;">æ©Ÿå¯†</span></td><td>åœ‹é˜²éƒ¨</td>
                    <td style="color:#fff;">åœ‹å®¶æ•¸ä½é˜²ç¦¦ç›¾ç‰Œ åŸå§‹ç¢¼ç§»äº¤ç°½ç½²</td>
                    <td><button class="btn btn-primary" onclick="approveDoc('doc-3', 'æˆæ¬Šå·²ç°½ç½²ï¼æ•¸ä½ç›¾ç‰Œä»£ç¢¼ç§»äº¤å®Œæˆã€‚')">æ•¸ä½ç°½ç« </button></td>
                </tr>
            </table>
        </div>
    </div>

    <div class="window" id="win-mail" style="top: 110px; left: 150px; width: 900px; height: 550px;">
        <div class="window-header" onmousedown="dragWindow(event, 'win-mail')">
            <div class="window-title">âœ‰ï¸ Shengfa Secure Mail (ç«¯åˆ°ç«¯é‡å­åŠ å¯†)</div>
            <div class="window-controls">
                <span onclick="minimizeWindow('win-mail')">_</span>
                <span onclick="maximizeWindow('win-mail')">â–¡</span>
                <span class="close" onclick="closeWindow('win-mail')">âœ–</span>
            </div>
        </div>
        <div class="window-body mail-layout">
            <div class="mail-list">
                <div class="mail-item active" onclick="loadMail('m1', this)">
                    <div class="mail-sender">å¼µå®¶ç¶º (è¡Œæ”¿å‰¯æ ¡é•·/ç‡Ÿé‹é•·)</div>
                    <div class="mail-subject">é—œæ–¼ä¸‹åŠå¹´åº¦æ¥µå…ƒç§‘å¤§ 2000 å„„é ç®—æ’¥æ¬¾...</div>
                </div>
                <div class="mail-item" onclick="loadMail('m2', this)">
                    <div class="mail-sender">ç¾æ´²æ¨ç´ èˆªå¤ªæŒ‡æ®å®˜</div>
                    <div class="mail-subject">ã€æ©Ÿå¯†ã€‘æ˜Ÿéš›é€šè¨Šé™£åˆ—ç™¼å°„å‰æœ€çµ‚ç¢ºèª</div>
                </div>
            </div>
            <div class="mail-content-pane">
                <div id="mail-m1" class="mail-content-view">
                    <div class="mail-header">
                        <h2 style="margin:0 0 10px 0; color:#fff;">é—œæ–¼ä¸‹åŠå¹´åº¦æ¥µå…ƒç§‘å¤§ 2000 å„„é ç®—æ’¥æ¬¾äº‹å®œ</h2>
                        <div style="color:#8b949e; font-size:0.9rem;">å¯„ä»¶è€…ï¼šå¼µå®¶ç¶º &lt;jiaqi.zhang@shengfa.global&gt;<br>æ™‚é–“ï¼š2026-02-25 09:30 AM</div>
                    </div>
                    <div style="font-size: 1.05rem; line-height: 1.8;">
                        åŸ·è¡Œé•·æ‚¨å¥½ï¼š<br><br>
                        ä¾æ“šæ˜¨æ—¥è‘£äº‹æœƒæ±ºè­°ï¼Œæ¥µå…ƒç§‘æŠ€å¤§å­¸ä¸‹åŠå¹´åº¦çš„ç ”ç©¶åŸºé‡‘ 2,000 å„„å…ƒï¼Œæˆ‘å·²æº–å‚™å¥½æ’¥æ¬¾æ’ç¨‹ã€‚<br>
                        å…¶ä¸­ 500 å„„å°‡ç›´æ¥åŒ¯å…¥è¶™é¼ç››é™¢é•·çš„ã€Œå¸¸æº«é‡å­é›»è…¦ã€å°ˆæ¡ˆå¸³æˆ¶ï¼›å…¶é¤˜ 1,500 å„„ç”±ç‹é–”å¼˜å‰¯æ ¡é•·çµ±ç±Œåˆ†é…ã€‚<br><br>
                        è‹¥ç„¡ç•°è­°ï¼Œè«‹ç›´æ¥å›è¦†æœ¬ä¿¡ä»¶ï¼Œè²¡å‹™æ¨¡çµ„å°‡æ–¼ä»Šæ—¥ä¸‹åˆ 3 é»è‡ªå‹•åŸ·è¡ŒåŒ¯æ¬¾ã€‚<br><br>
                        å¼µå®¶ç¶º æ•¬ä¸Š
                    </div>
                    <div style="margin-top: 30px; display:flex; gap:10px;">
                        <button class="btn btn-primary" onclick="readMail(); showToast('å›ä¿¡å·²åŠ å¯†é€å‡ºã€‚é ç®—æ’¥æ¬¾ç¨‹åºå•Ÿå‹•ã€‚')">å›è¦† (Reply)</button>
                        <button class="btn" style="background:#333; color:#fff;">è½‰å¯„ (Forward)</button>
                    </div>
                </div>
                <div id="mail-m2" class="mail-content-view" style="display:none;">
                    <div class="mail-header">
                        <h2 style="margin:0 0 10px 0; color:var(--sf-red);">ã€æ©Ÿå¯†ã€‘æ˜Ÿéš›é€šè¨Šé™£åˆ—ç™¼å°„å‰æœ€çµ‚ç¢ºèª</h2>
                        <div style="color:#8b949e; font-size:0.9rem;">å¯„ä»¶è€…ï¼šç¾æ´²èˆªå¤ªç¸½éƒ¨ &lt;aerospace.cmd@shengfa.global&gt;<br>æ™‚é–“ï¼š2026-02-24 11:45 PM</div>
                    </div>
                    <div style="font-size: 1.05rem; line-height: 1.8;">
                        æœ€é«˜æŒ‡æ®å®˜ï¼š<br><br>
                        çµé·¹ä¹è™Ÿé‡å‹é‹è¼‰ç«ç®­å·²æ–¼ç¾æ´²æ¨ç´ç™¼å°„å°å°±ä½ã€‚æœ¬æ¬¡å°‡æ­è¼‰ 12 æšæ ¸å¿ƒé‡å­é€šè¨Šè¡›æ˜Ÿã€‚<br>
                        å€’æ•¸è¨ˆæ™‚å°‡æ–¼æ‚¨çš„å…¨æ¯è¦–è¨Šæœƒè­°å¾Œæ­£å¼å•Ÿå‹•ã€‚<br><br>
                        ç­‰å¾…æ‚¨çš„æœ€çµ‚ç™¼å°„å¯†ç¢¼ã€‚
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="window" id="win-meeting" style="top: 140px; left: 200px; width: 700px; height: 500px;">
        <div class="window-header" onmousedown="dragWindow(event, 'win-meeting')">
            <div class="window-title">ğŸŒ Shengfa Holographic Comms</div>
            <div class="window-controls">
                <span onclick="minimizeWindow('win-meeting')">_</span>
                <span class="close" onclick="closeWindow('win-meeting')">âœ–</span>
            </div>
        </div>
        <div class="window-body holo-screen" id="holo-bg">
            <div class="radar" id="radar-anim"></div>
            <h2 style="color:white; text-align:center; z-index:10;" id="holo-text">å…¨çƒåŠ å¯†æœƒè­°ç¶²<br><span style="font-size:1rem; color:#888;">è«‹é¸æ“‡é€£ç·šæ¨ç´</span></h2>
            <div style="display:flex; gap:15px; margin-top:30px; z-index:10;" id="holo-btns">
                <button class="btn btn-primary connect-btn" onclick="startCall('ã€å°ç£æ ¸å¿ƒã€‘æ¥µå…ƒç§‘å¤§ è¯åˆå¯¦é©—å®¤')">é€£ç·šè‡³ æ¥µå…ƒç§‘å¤§</button>
                <button class="btn btn-primary connect-btn" style="background:#238636; color:white;" onclick="startCall('ã€ç¾æ´²æ¨ç´ã€‘èˆªå¤ªç™¼å°„ä¸­å¿ƒ')">é€£ç·šè‡³ ç¾æ´²èˆªå¤ª</button>
            </div>
        </div>
    </div>

    <div class="window" id="win-cal" style="top: 170px; left: 250px; width: 600px; height: 450px;">
        <div class="window-header" onmousedown="dragWindow(event, 'win-cal')">
            <div class="window-title">ğŸ“… CEO Itinerary (2026å¹´ 2æœˆ 25æ—¥)</div>
            <div class="window-controls">
                <span onclick="minimizeWindow('win-cal')">_</span>
                <span class="close" onclick="closeWindow('win-cal')">âœ–</span>
            </div>
        </div>
        <div class="window-body" style="background: var(--sf-dark);">
            <div class="cal-header">
                <h3 style="margin:0; color:var(--sf-gold);">ä»Šæ—¥é«˜éšè¡Œç¨‹è¡¨</h3>
                <button class="btn" style="background:#333; color:#fff;">+ æ–°å¢æ©Ÿå¯†è¡Œç¨‹</button>
            </div>
            <div class="event-item">
                <div class="event-time">09:00 AM</div>
                <div class="event-detail">
                    <h4>èˆ‡æ¥µå…ƒç§‘å¤§ ç‹é–”å¼˜å‰¯æ ¡é•· æˆ°ç•¥æ—©é¤æœƒ</h4>
                    <p>è¨è«–ï¼šåœ‹å®¶æ•¸ä½ç›¾ç‰Œäº¤ä»˜èˆ‡ä¸‹åŠå¹´åº¦ 1500 å„„é ç®—é‹ç”¨ã€‚</p>
                </div>
            </div>
            <div class="event-item" style="background: rgba(140,21,21,0.2);">
                <div class="event-time">14:00 PM</div>
                <div class="event-detail">
                    <h4 style="color:var(--sf-red);">ã€æœ€é«˜æ©Ÿå¯†ã€‘è¦–è¨Šé€£ç·šï¼šç¾æ´²èˆªå¤ªç¸½éƒ¨</h4>
                    <p>æ±ºç­–ï¼šä¸‹é”æ˜Ÿéš›é€šè¨Šé™£åˆ—ç™¼å°„å¯†ç¢¼ã€‚</p>
                </div>
            </div>
            <div class="event-item">
                <div class="event-time">19:30 PM</div>
                <div class="event-detail">
                    <h4>å‹ç™¼é›†åœ˜ å…¨çƒè‘£äº‹æœƒæ™šå®´</h4>
                    <p>åœ°é»ï¼šå°åŒ— 101 å‹ç™¼å°ˆå±¬é ‚å±¤ä¿±æ¨‚éƒ¨ã€‚</p>
                </div>
            </div>
        </div>
    </div>

    <div class="window" id="win-terminal" style="top: 200px; left: 300px; width: 750px; height: 450px;">
        <div class="window-header" onmousedown="dragWindow(event, 'win-terminal')">
            <div class="window-title">ğŸ’» SHENGFA_OS COMMAND TERMINAL [Root Access]</div>
            <div class="window-controls">
                <span onclick="minimizeWindow('win-terminal')">_</span>
                <span onclick="maximizeWindow('win-terminal')">â–¡</span>
                <span class="close" onclick="closeWindow('win-terminal')">âœ–</span>
            </div>
        </div>
        <div class="window-body cmd-window" id="term-container">
            <div>Shengfa OS [Version 9.4.1]</div>
            <div>(c) 2026 Shengfa Group Corporation. All rights reserved.</div>
            <br>
            <div>Welcome, GLOBAL_CEO. Type 'help' for available commands.</div>
            <div id="term-log"></div>
            <div class="cmd-input-line">
                <span class="cmd-prefix">CEO@SHENGFA-HQ:~$</span>
                <input type="text" class="cmd-input" id="term-input" autocomplete="off" autofocus>
            </div>
        </div>
    </div>

    <div class="taskbar">
        <button class="start-btn" onclick="showToast('Shengfa OS: ç³»çµ±é˜²ç¦¦å±¤ç´š Level MAXã€‚')">
            <span style="font-size:1.2rem;">âš¡</span> SHENGFA
        </button>
        <div class="taskbar-apps" id="taskbar-apps">
            </div>
        <div class="sys-tray">
            <span style="color: #3fb950;">â— UPLINK</span>
            <span id="os-clock">00:00:00</span>
        </div>
    </div>

    <script>
        // 1. åˆå§‹åŒ–èˆ‡æ™‚é–“
        function initOS() { startTime(); }
        function startTime() {
            const today = new Date();
            let h = today.getHours(); let m = today.getMinutes(); let s = today.getSeconds();
            m = m < 10 ? "0" + m : m; s = s < 10 ? "0" + s : s;
            document.getElementById('os-clock').innerHTML = h + ":" + m + ":" + s;
            setTimeout(startTime, 1000);
        }

        // 2. è¦–çª—ç®¡ç†ç³»çµ± (æ ¸å¿ƒäº’å‹•)
        let zIndexCounter = 100;
        let activeWindows = {};

        function openWindow(winId) {
            const win = document.getElementById(winId);
            win.style.display = 'flex';
            win.classList.remove('minimized');
            bringToFront(winId);
            if (!activeWindows[winId]) {
                activeWindows[winId] = true;
                updateTaskbar();
            }
        }

        function closeWindow(winId) {
            document.getElementById(winId).style.display = 'none';
            document.getElementById(winId).classList.remove('maximized');
            delete activeWindows[winId];
            updateTaskbar();
        }

        function minimizeWindow(winId) {
            document.getElementById(winId).style.display = 'none';
            updateTaskbar();
        }

        function maximizeWindow(winId) {
            const win = document.getElementById(winId);
            win.classList.toggle('maximized');
            bringToFront(winId);
        }

        function bringToFront(winId) {
            zIndexCounter++;
            document.getElementById(winId).style.zIndex = zIndexCounter;
        }

        // è¦–çª—æ‹–æ›³ç³»çµ±
        let isDragging = false; let currentDrag = null; let oX = 0, oY = 0;
        function dragWindow(e, winId) {
            const win = document.getElementById(winId);
            if(win.classList.contains('maximized')) return; // æœ€å¤§åŒ–ä¸çµ¦æ‹–
            isDragging = true; currentDrag = win; bringToFront(winId);
            const rect = win.getBoundingClientRect();
            oX = e.clientX - rect.left; oY = e.clientY - rect.top;
        }
        document.addEventListener('mousemove', (e) => {
            if (isDragging && currentDrag) {
                let nX = e.clientX - oX; let nY = e.clientY - oY;
                if(nY < 0) nY = 0; // é˜²æ­¢æ‹–å‡ºè¢å¹•ä¸Šæ–¹
                currentDrag.style.left = nX + 'px'; currentDrag.style.top = nY + 'px';
            }
        });
        document.addEventListener('mouseup', () => { isDragging = false; currentDrag = null; });

        // é»æ“Šè¦–çª—æœ¬é«”ç§»è‡³æœ€ä¸Šå±¤
        document.querySelectorAll('.window').forEach(win => {
            win.addEventListener('mousedown', () => bringToFront(win.id));
        });

        // 3. ä»»å‹™æ¬„é€£å‹•
        function updateTaskbar() {
            const tb = document.getElementById('taskbar-apps');
            tb.innerHTML = '';
            const titles = { 'win-erp':'ğŸ“Š ERPæˆ°æƒ…', 'win-bpm':'âœ… å…¬æ–‡ç°½æ ¸', 'win-mail':'âœ‰ï¸ æ©Ÿå¯†éƒµä»¶', 'win-meeting':'ğŸŒ è¦–è¨Šæœƒè­°', 'win-cal':'ğŸ“… è¡Œç¨‹è¡¨', 'win-terminal':'ğŸ’» çµ‚ç«¯æ©Ÿ' };
            for (let id in activeWindows) {
                const isHidden = document.getElementById(id).style.display === 'none';
                tb.innerHTML += `<div class="task-app ${isHidden ? 'minimized' : ''}" onclick="openWindow('${id}')">${titles[id]}</div>`;
            }
        }

        // 4. å„åˆ¥ APP äº’å‹•é‚è¼¯
        function showToast(msg) {
            const t = document.getElementById('toast');
            t.innerText = msg; t.style.display = 'block';
            setTimeout(() => t.style.display = 'none', 3500);
        }

        // BPM ç°½æ ¸
        function approveDoc(rowId, msg) {
            document.getElementById(rowId).style.display = 'none';
            let badge = document.getElementById('bpm-badge');
            let count = parseInt(badge.innerText) - 1;
            badge.innerText = count;
            if(count === 0) badge.style.display = 'none';
            showToast(`âœ… æˆæ¬ŠæˆåŠŸï¼\n${msg}`);
        }

        // éƒµä»¶åˆ‡æ›
        function loadMail(mailId, el) {
            document.querySelectorAll('.mail-item').forEach(i => i.classList.remove('active'));
            el.classList.add('active');
            document.querySelectorAll('.mail-content-view').forEach(v => v.style.display = 'none');
            document.getElementById('mail-' + mailId).style.display = 'block';
        }

        function readMail() {
            let badge = document.getElementById('badge-mail');
            let count = parseInt(badge.innerText) - 1;
            if(count >= 0) badge.innerText = count;
            if(count === 0) badge.style.display = 'none';
        }

        // å…¨æ¯æœƒè­°å‹•ç•«
        function startCall(target) {
            document.getElementById('holo-btns').style.display = 'none';
            document.getElementById('holo-text').innerText = `æ­£åœ¨å»ºç«‹é‡å­åŠ å¯†é€£ç·š...\nç›®æ¨™ï¼š${target}`;
            document.getElementById('radar-anim').style.display = 'block';
            
            setTimeout(() => {
                document.getElementById('radar-anim').style.display = 'none';
                document.getElementById('holo-bg').style.background = 'radial-gradient(circle at center, #0a2e0a 0%, #000 100%)';
                document.getElementById('holo-text').innerHTML = `<span style="color:#3fb950; font-size:2rem;">â— é€£ç·šæˆåŠŸ</span><br><br><span style="font-size:1.2rem; color:#fff;">å°æ–¹å½±åƒå·²æ¥å…¥ï¼Œè«‹é–‹å§‹ä¸‹é”æŒ‡ä»¤ã€‚</span><br><br><button class="btn btn-danger" onclick="endCall()">çµæŸé€šè¨Š</button>`;
            }, 3000);
        }

        function endCall() {
            document.getElementById('holo-bg').style.background = 'radial-gradient(circle at center, #00152b 0%, #000 100%)';
            document.getElementById('holo-text').innerHTML = `å…¨çƒåŠ å¯†æœƒè­°ç¶²<br><span style="font-size:1rem; color:#888;">è«‹é¸æ“‡é€£ç·šæ¨ç´</span>`;
            document.getElementById('holo-btns').style.display = 'flex';
        }

        // çµ‚ç«¯æ©Ÿé‚è¼¯
        const termInput = document.getElementById('term-input');
        const termLog = document.getElementById('term-log');
        termInput.addEventListener('keypress', function(e) {
            if(e.key === 'Enter') {
                const cmd = this.value.trim().toLowerCase();
                termLog.innerHTML += `<div><span class="cmd-prefix">CEO@SHENGFA-HQ:~$</span> ${this.value}</div>`;
                
                let response = '';
                if(cmd === 'help') {
                    response = "Available commands:<br>status - Show empire status<br>launch - Initiate satellite launch sequence<br>clear - Clear terminal<br>funds - Show liquidity";
                } else if(cmd === 'status') {
                    response = "[OK] All 742 global hubs online. Deflector shields at MAX.";
                } else if(cmd === 'launch') {
                    response = "<span style='color:var(--sf-red); font-weight:bold;'>WARNING: LAUNCH SEQUENCE INITIATED. SATELLITES DEPLOYING IN T-MINUS 10 SECONDS.</span>";
                } else if(cmd === 'funds') {
                    response = "Current Cash Reserves: NT$ 971,000,000,000,000";
                } else if(cmd === 'clear') {
                    termLog.innerHTML = '';
                } else if(cmd !== '') {
                    response = `Command not found: ${cmd}`;
                }

                if(response) {
                    termLog.innerHTML += `<div style="margin-bottom:10px;">${response}</div>`;
                }
                
                this.value = '';
                document.getElementById('term-container').scrollTop = document.getElementById('term-container').scrollHeight;
            }
        });

    </script>
</body>
</html>
