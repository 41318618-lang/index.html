<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¥µå…ƒç§‘å¤§ è³‡è¨Šå·¥ç¨‹ç³» | CSIE AI Knowledge Base</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');

        :root {
            --bg-color: #f9f9fa; /* NotebookLM ä¹¾æ·¨çš„èƒŒæ™¯è‰² */
            --panel-bg: #ffffff;
            --text-main: #202124;
            --text-muted: #5f6368;
            --border-color: #dadce0;
            --primary: #1a73e8; /* ç¶“å…¸ç§‘æŠ€è— */
            --hover-bg: #f1f3f4;
            --accent-gold: #c5a059; /* å‹ç™¼é›†åœ˜å°ˆå±¬è‰² */
        }

        body { font-family: 'Noto Sans TC', sans-serif; margin: 0; background-color: var(--bg-color); color: var(--text-main); height: 100vh; display: flex; flex-direction: column; overflow: hidden; }

        /* é ‚éƒ¨å°è¦½ */
        header { background: var(--panel-bg); height: 64px; border-bottom: 1px solid var(--border-color); display: flex; align-items: center; justify-content: space-between; padding: 0 24px; flex-shrink: 0; }
        .logo { font-size: 1.2rem; font-weight: 700; color: var(--text-main); display: flex; align-items: center; gap: 10px; }
        .logo span { background: var(--text-main); color: white; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; }
        .header-actions button { background: white; border: 1px solid var(--border-color); padding: 8px 16px; border-radius: 20px; font-weight: 500; cursor: pointer; transition: 0.2s; }
        .header-actions button:hover { background: var(--hover-bg); }

        /* ä¸»ä½ˆå±€ï¼šå·¦å´ä¾†æº (Sources) + å³å´ AI èŠå¤©èˆ‡æ‘˜è¦ */
        .main-container { display: flex; flex: 1; overflow: hidden; }

        /* å·¦å´ï¼šæ–‡æœ¬ä¾†æºå€ (æ­£ä¿®è³‡å·¥ç³»å…§å®¹) */
        .sidebar { width: 320px; background: var(--bg-color); border-right: 1px solid var(--border-color); display: flex; flex-direction: column; padding: 20px; overflow-y: auto; }
        .section-title { font-size: 0.85rem; font-weight: 700; color: var(--text-muted); margin-bottom: 15px; letter-spacing: 1px; }
        
        .source-card { background: var(--panel-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 16px; margin-bottom: 16px; cursor: pointer; transition: 0.2s; box-shadow: 0 1px 3px rgba(0,0,0,0.04); }
        .source-card:hover, .source-card.active { border-color: var(--primary); box-shadow: 0 4px 12px rgba(26,115,232,0.15); }
        .source-icon { font-size: 1.5rem; margin-bottom: 10px; }
        .source-title { font-size: 1rem; font-weight: 700; margin-bottom: 8px; }
        .source-desc { font-size: 0.85rem; color: var(--text-muted); line-height: 1.5; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }

        /* å³å´ï¼šAI äº’å‹•å€ */
        .workspace { flex: 1; background: var(--panel-bg); display: flex; flex-direction: column; position: relative; }
        
        /* é ‚éƒ¨ Podcast æ’­æ”¾å€ (NotebookLM æ‹›ç‰ŒåŠŸèƒ½) */
        .audio-overview { margin: 24px 40px; padding: 20px; background: linear-gradient(135deg, #f8f9fa 0%, #e8f0fe 100%); border-radius: 16px; border: 1px solid var(--border-color); display: flex; align-items: center; gap: 20px; }
        .play-btn { width: 48px; height: 48px; background: var(--primary); color: white; border: none; border-radius: 50%; font-size: 1.2rem; cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 10px rgba(26,115,232,0.3); transition: 0.2s; }
        .play-btn:hover { transform: scale(1.05); }
        .audio-text h3 { margin: 0 0 5px 0; font-size: 1.1rem; }
        .audio-text p { margin: 0; font-size: 0.9rem; color: var(--text-muted); }
        .audio-wave { display: flex; gap: 3px; align-items: center; height: 20px; display: none; margin-left: auto; }
        .wave-bar { width: 4px; background: var(--primary); border-radius: 2px; animation: wave 1s infinite ease-in-out alternate; }
        @keyframes wave { 0% { height: 4px; } 100% { height: 20px; } }

        /* èŠå¤©ç´€éŒ„å€ */
        .chat-container { flex: 1; padding: 0 40px; overflow-y: auto; display: flex; flex-direction: column; gap: 24px; padding-bottom: 100px; }
        .msg { display: flex; gap: 16px; max-width: 80%; }
        .msg.ai { align-self: flex-start; }
        .msg.user { align-self: flex-end; flex-direction: row-reverse; }
        .avatar { width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.9rem; flex-shrink: 0; }
        .avatar-ai { background: var(--accent-gold); color: white; }
        .avatar-user { background: #e8eaed; color: var(--text-main); }
        .bubble { padding: 16px 20px; border-radius: 16px; font-size: 0.95rem; line-height: 1.6; }
        .msg.ai .bubble { background: #f1f3f4; border-top-left-radius: 4px; }
        .msg.user .bubble { background: var(--primary); color: white; border-top-right-radius: 4px; }

        /* åº•éƒ¨è¼¸å…¥æ¡† */
        .input-area { position: absolute; bottom: 0; width: 100%; padding: 20px 40px; box-sizing: border-box; background: linear-gradient(transparent, var(--panel-bg) 20%); }
        .input-box { display: flex; background: white; border: 1px solid var(--border-color); border-radius: 24px; padding: 8px 16px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .input-box input { flex: 1; border: none; outline: none; font-size: 1rem; padding: 8px; font-family: inherit; }
        .send-btn { background: var(--text-main); color: white; border: none; width: 36px; height: 36px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: 0.2s; }
        .send-btn:hover { background: var(--primary); }
    </style>
</head>
<body>

    <header>
        <div class="logo">
            <span>CSIE</span> æ¥µå…ƒç§‘æŠ€å¤§å­¸ è³‡è¨Šå·¥ç¨‹ç³»
        </div>
        <div class="header-actions">
            <button onclick="window.location.href='index.html'">è¿”å›æ ¡æœ¬éƒ¨</button>
            <button style="background: var(--text-main); color: white;">ç”³è«‹å…¥å­¸</button>
        </div>
    </header>

    <div class="main-container">
        <aside class="sidebar">
            <div class="section-title">ä¾†æºæ–‡æœ¬ (SOURCES)</div>

            <div class="source-card" onclick="triggerQuery('ç™¼å±•é‡é»èˆ‡ç‰¹è‰²', this)">
                <div class="source-icon">ğŸ¯</div>
                <div class="source-title">ç³»æ‰€ç™¼å±•é‡é»</div>
                <div class="source-desc">
                    èšç„¦æ–¼ AIoT æŠ€è¡“æ‡‰ç”¨ã€XR æ•¸ä½å…§å®¹é–‹ç™¼èˆ‡å¹³å°å»ºç½®ã€‚æ·±å…¥ç”Ÿæˆå¼ AI æ‡‰ç”¨æŠ€è¡“èˆ‡è³‡å®‰æ”»é˜²ï¼Œå»ºæ§‹å®Œå–„çš„è³‡è¨Šå®‰å…¨ç®¡ç†ç³»çµ±(ISMS)ã€‚
                </div>
            </div>

            <div class="source-card" onclick="triggerQuery('æ ¸å¿ƒèª²ç¨‹ä»‹ç´¹', this)">
                <div class="source-icon">ğŸ“š</div>
                <div class="source-title">æ ¸å¿ƒèª²ç¨‹æ¨¡çµ„</div>
                <div class="source-desc">
                    æ¶µè“‹å½±åƒè™•ç†ã€ç‰©è¯ç¶²æ•´åˆã€é›²ç«¯é‹ç®—ã€å¤§æ•¸æ“šåˆ†æèˆ‡æ©Ÿå™¨å­¸ç¿’ã€‚åŒæ™‚åŒ…å«ç³»çµ±èˆ‡è³‡æ–™åº«å®‰å…¨ã€ç‰©è¯ç¶²è³‡å®‰å¨è„…æª¢æ¸¬èˆ‡é˜²è­·ã€‚
                </div>
            </div>

            <div class="source-card" onclick="triggerQuery('åŠå°é«”èˆ‡ç”¢æ¥­å°æ¥', this)">
                <div class="source-icon">âš™ï¸</div>
                <div class="source-title">é©…å‹•å°ç£ç”¢æ¥­çš„æ ¸å¿ƒåŠ›é‡</div>
                <div class="source-desc">
                    æ·±å…¥åŠå°é«”ç”¢æ¥­éˆï¼šå¾ EDAã€IP åˆ° IC Designã€‚åŸ¹è‚²æ•¸ä½ IC è¨­è¨ˆå·¥ç¨‹å¸«ã€é¡æ¯” IC è¨­è¨ˆå·¥ç¨‹å¸«ã€ä½ˆå±€èˆ‡è»Ÿé«”å·¥ç¨‹å¸«ï¼Œå°æ¥å‹ç™¼é›†åœ˜è¨­å‚™èˆ‡è£½ç¨‹éœ€æ±‚ã€‚
                </div>
            </div>

            <div class="source-card" onclick="triggerQuery('æ‹›ç”Ÿèˆ‡å…¥å­¸ç®¡é“', this)">
                <div class="source-icon">ğŸ“</div>
                <div class="source-title">å…¥å­¸ç®¡é“èˆ‡å­¸åˆ¶</div>
                <div class="source-desc">
                    åŒ…å«æ—¥é–“éƒ¨å­¸å£«ç­ã€é€²ä¿®éƒ¨å­¸å£«ç­èˆ‡ç¢©å£«ç­ã€‚æä¾›ç”³è«‹å…¥å­¸ã€æŠ€å„ªå…¥å­¸ã€ç”„é¸å…¥å­¸åŠç”¢æ”œå°ˆç­ç­‰å¤šé‡ç®¡é“ã€‚
                </div>
            </div>
        </aside>

        <main class="workspace">
            <div class="audio-overview">
                <button class="play-btn" id="playBtn" onclick="toggleAudio()">â–¶</button>
                <div class="audio-text">
                    <h3>Deep Dive: æ¥µå…ƒè³‡å·¥ç³»æŒ‡å—</h3>
                    <p>ç”± AI é›™ä¸»æ©Ÿç‚ºæ‚¨è§£ææœ¬ç³»çš„ç™¼å±•é‡é»ã€XR æŠ€è¡“èˆ‡ IC ç”¢æ¥­å°æ¥å„ªå‹¢ã€‚</p>
                </div>
                <div class="audio-wave" id="audioWave">
                    <div class="wave-bar" style="animation-delay: 0s"></div>
                    <div class="wave-bar" style="animation-delay: 0.2s"></div>
                    <div class="wave-bar" style="animation-delay: 0.4s"></div>
                    <div class="wave-bar" style="animation-delay: 0.6s"></div>
                    <div class="wave-bar" style="animation-delay: 0.8s"></div>
                </div>
            </div>

            <div class="chat-container" id="chatArea">
                <div class="msg ai">
                    <div class="avatar avatar-ai">AI</div>
                    <div class="bubble">
                        æ‚¨å¥½ï¼æˆ‘æ˜¯æ¥µå…ƒç§‘å¤§è³‡å·¥ç³»çš„ AI å°è¦½åŠ©ç†ã€‚<br><br>
                        æœ¬ç³»ä»¥ã€Œå¤§è³‡å·¥æ™‚ä»£ã€ç‚ºæ ¸å¿ƒï¼Œé ­è…¦æ€æƒ³æ˜¯å‰µæ–°çš„ä¾†æºï¼Œç§‘æŠ€æ‡‰ç”¨æ˜¯ç„¡é™çš„æƒ³åƒã€‚<br>
                        æ‚¨å¯ä»¥é»æ“Šå·¦å´çš„ã€Œä¾†æºæ–‡æœ¬ã€å¡ç‰‡ï¼Œæˆ–æ˜¯ç›´æ¥åœ¨ä¸‹æ–¹è¼¸å…¥å•é¡Œï¼ˆä¾‹å¦‚ï¼šã€Œä½ å€‘æœ‰æ•™æ©Ÿå™¨å­¸ç¿’å—ï¼Ÿã€æˆ–ã€Œç•¢æ¥­èƒ½åšä»€éº¼å·¥ç¨‹å¸«ï¼Ÿã€ï¼‰ï¼Œæˆ‘æœƒç‚ºæ‚¨ç¸½çµè³‡è¨Šã€‚
                    </div>
                </div>
            </div>

            <div class="input-area">
                <div class="input-box">
                    <input type="text" id="userInput" placeholder="è©¢å•é—œæ–¼è³‡å·¥ç³»çš„èª²ç¨‹ã€ç™¼å±•é‡é»æˆ–åŠå°é«”å‡ºè·¯..." onkeypress="handleEnter(event)">
                    <button class="send-btn" onclick="sendCustomMsg()">â†‘</button>
                </div>
            </div>
        </main>
    </div>

    <script>
        // AI çŸ¥è­˜åº«å›ç­”è³‡æ–™ (åŸºæ–¼æ­£ä¿®è³‡å·¥å…§å®¹é­”æ”¹)
        const knowledgeBase = {
            'ç™¼å±•é‡é»èˆ‡ç‰¹è‰²': 'æ ¹æ“šæœ¬ç³»è¦åŠƒï¼Œæˆ‘å€‘èšç„¦æ–¼ **AIoT æŠ€è¡“æ‡‰ç”¨** èˆ‡ **XR æ•¸ä½å…§å®¹é–‹ç™¼**ã€‚åœ¨è³‡å®‰é ˜åŸŸï¼Œæˆ‘å€‘å¼·èª¿**è³‡å®‰æ”»é˜²æŠ€è¡“**èˆ‡**è³‡è¨Šå®‰å…¨ç®¡ç†ç³»çµ± (ISMS)**çš„å»ºç½®ï¼Œä¸¦æ·±å…¥**ç”Ÿæˆå¼ AI æ‡‰ç”¨æŠ€è¡“**ï¼Œç¢ºä¿å­¸ç”Ÿå…·å‚™æ‡‰å°æœªä¾†ç§‘æŠ€æŒ‘æˆ°çš„èƒ½åŠ›ã€‚',
            'æ ¸å¿ƒèª²ç¨‹ä»‹ç´¹': 'æˆ‘å€‘çš„èª²ç¨‹ç·Šè²¼ç”¢æ¥­éœ€æ±‚ï¼Œä¸»è¦åŒ…å«ï¼š<br>1. **äººå·¥æ™ºæ…§èˆ‡æ•¸æ“š**ï¼šé›²ç«¯é‹ç®—ã€å¤§æ•¸æ“šåˆ†æã€æ©Ÿå™¨å­¸ç¿’èˆ‡å½±åƒè™•ç†ã€‚<br>2. **ç³»çµ±èˆ‡è³‡å®‰**ï¼šç¶²è·¯æ”»é˜²æŠ€è¡“ã€ç³»çµ±èˆ‡è³‡æ–™åº«å®‰å…¨ã€ç‰©è¯ç¶²è³‡å®‰å¨è„…æª¢æ¸¬èˆ‡é˜²è­·ã€‚',
            'åŠå°é«”èˆ‡ç”¢æ¥­å°æ¥': 'æˆ‘å€‘æ˜¯é©…å‹•å°ç£ç”¢æ¥­çš„æ ¸å¿ƒåŠ›é‡ï¼èª²ç¨‹éŠœæ¥åŠå°é«”ç”¢æ¥­éˆï¼ˆEDA -> IC Design -> å°è£æ¸¬è©¦ï¼‰ã€‚<br><br>ç•¢æ¥­ç”Ÿå¯å‹ä»»ï¼š<br>- æ•¸ä½/é¡æ¯” IC è¨­è¨ˆå·¥ç¨‹å¸«<br>- ä½ˆå±€å·¥ç¨‹å¸«ã€è»Ÿé«”å·¥ç¨‹å¸«<br>- åŠå°é«”è£½ç¨‹ã€è¨­å‚™èˆ‡æ¸¬è©¦å·¥ç¨‹å¸«ã€‚',
            'æ‹›ç”Ÿèˆ‡å…¥å­¸ç®¡é“': 'æˆ‘å€‘æä¾›å¤šå…ƒå­¸åˆ¶ï¼ŒåŒ…å«ï¼šæ—¥é–“éƒ¨å­¸å£«ç­ã€é€²ä¿®éƒ¨å­¸å£«ç­ã€ç¢©å£«ç­èˆ‡äº”å°ˆç”¢æ”œå°ˆç­ã€‚<br>å…¥å­¸ç®¡é“ååˆ†æš¢é€šï¼Œæ¥å—ç”³è«‹å…¥å­¸ã€ç”„é¸å…¥å­¸ã€æŠ€å„ªå…¥å­¸èˆ‡æ—¥é–“éƒ¨ç¨æ‹›ã€‚æ­¡è¿åŠ å…¥æˆ‘å€‘ï¼'
        };

        const chatArea = document.getElementById('chatArea');

        // è™•ç†å·¦å´å¡ç‰‡é»æ“Š
        function triggerQuery(topic, element) {
            // è¦–è¦ºç‹€æ…‹åˆ‡æ›
            document.querySelectorAll('.source-card').forEach(c => c.classList.remove('active'));
            element.classList.add('active');

            // æ–°å¢ä½¿ç”¨è€…è¨Šæ¯
            appendMsg('user', `è«‹ç¸½çµã€Œ${topic}ã€çš„å…§å®¹ã€‚`);

            // æ¨¡æ“¬ AI æ€è€ƒå»¶é²å¾Œå›è¦†
            setTimeout(() => {
                appendMsg('ai', knowledgeBase[topic]);
            }, 600);
        }

        // è™•ç†è‡ªè¡Œè¼¸å…¥çš„å•é¡Œ
        function sendCustomMsg() {
            const input = document.getElementById('userInput');
            const text = input.value.trim();
            if(!text) return;

            appendMsg('user', text);
            input.value = '';

            setTimeout(() => {
                // ç°¡å–®çš„é—œéµå­—åŒ¹é…ï¼Œå±•ç¾äº’å‹•æ€§
                if(text.includes('IC') || text.includes('åŠå°é«”') || text.includes('å·¥ç¨‹å¸«')) {
                    appendMsg('ai', knowledgeBase['åŠå°é«”èˆ‡ç”¢æ¥­å°æ¥']);
                } else if(text.includes('AI') || text.includes('äººå·¥æ™ºæ…§') || text.includes('è³‡å®‰')) {
                    appendMsg('ai', knowledgeBase['ç™¼å±•é‡é»èˆ‡ç‰¹è‰²'] + '<br><br>æˆ‘å€‘æœ‰å°ˆé–€çš„ç¶²è·¯æ”»é˜²èˆ‡æ©Ÿå™¨å­¸ç¿’èª²ç¨‹ï¼');
                } else {
                    appendMsg('ai', 'æ ¹æ“šç›®å‰çš„ç³»æ‰€è³‡æ–™åº«ï¼Œæœ¬ç³»ï¼ˆæ¥µå…ƒç§‘å¤§è³‡å·¥ç³»ï¼‰çš„æ ¸å¿ƒåœç¹è‘—ã€ŒAIã€XRã€è³‡å®‰ã€ä¸‰å¤§ä¸»è»¸ã€‚æ‚¨å¯ä»¥é»æ“Šå·¦å´æ–‡ä»¶ç²å–æ›´è©³ç´°çš„èª²ç¨‹èˆ‡æ‹›ç”Ÿè³‡è¨Šã€‚');
                }
            }, 800);
        }

        function handleEnter(e) {
            if(e.key === 'Enter') sendCustomMsg();
        }

        // å»ºç«‹è¨Šæ¯æ°£æ³¡
        function appendMsg(sender, text) {
            const msgDiv = document.createElement('div');
            msgDiv.className = `msg ${sender}`;
            
            const avatar = document.createElement('div');
            avatar.className = `avatar avatar-${sender}`;
            avatar.innerText = sender === 'ai' ? 'AI' : 'U';

            const bubble = document.createElement('div');
            bubble.className = 'bubble';
            bubble.innerHTML = text;

            msgDiv.appendChild(avatar);
            msgDiv.appendChild(bubble);
            chatArea.appendChild(msgDiv);
            
            // è‡ªå‹•æ»¾å‹•åˆ°åº•éƒ¨
            chatArea.scrollTop = chatArea.scrollHeight;
        }

        // æ¨¡æ“¬æ’­æ”¾ Audio Overview
        let isPlaying = false;
        function toggleAudio() {
            const btn = document.getElementById('playBtn');
            const wave = document.getElementById('audioWave');
            isPlaying = !isPlaying;
            
            if(isPlaying) {
                btn.innerText = 'â¸';
                wave.style.display = 'flex';
                // æ¨¡æ“¬ç³»çµ±å»£æ’­
                setTimeout(() => {
                    if(isPlaying) appendMsg('ai', 'ğŸ™ï¸ <b>[èªéŸ³æ‘˜è¦ç”Ÿæˆä¸­]</b>ï¼šæ­¡è¿ä¾†åˆ°å¤§è³‡å·¥æ™‚ä»£... æ¥µå…ƒç§‘å¤§è³‡å·¥ç³»å°‡æ‚¨çš„é ­è…¦æ€æƒ³åŒ–ç‚ºå‰µæ–°ä¾†æºã€‚æˆ‘å€‘æ“æœ‰ XR æ•¸ä½å…§å®¹é–‹ç™¼èˆ‡ ISMS è³‡å®‰é˜²è­·çš„é ‚å°–è³‡æº...');
                }, 1000);
            } else {
                btn.innerText = 'â–¶';
                wave.style.display = 'none';
            }
        }
    </script>
</body>
</html>
