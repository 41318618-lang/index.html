<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>æ ¡å‹™å…¬æ–‡ç°½æ ¸ç³»çµ± | æ¥µå…ƒç§‘æŠ€å¤§å­¸</title>
    <style>
        body { font-family: "Microsoft JhengHei", sans-serif; margin: 0; background: #eef2f5; display: flex; }
        .sidebar { width: 250px; background: #002D56; color: white; height: 100vh; position: fixed; padding-top: 20px; box-shadow: 2px 0 5px rgba(0,0,0,0.2); }
        .sidebar h2 { text-align: center; font-size: 1.3rem; border-bottom: 1px solid rgba(255,255,255,0.2); padding-bottom: 20px; }
        .menu-item { display: block; padding: 15px 20px; color: #fff; text-decoration: none; border-bottom: 1px solid rgba(255,255,255,0.1); transition: 0.3s; }
        .menu-item:hover { background: #A51C30; padding-left: 25px; border-left: 5px solid #B8860B; }
        
        .main-content { margin-left: 250px; padding: 30px; width: calc(100% - 250px); }
        .header { display: flex; justify-content: space-between; align-items: center; background: white; padding: 15px 30px; border-radius: 8px; border-left: 5px solid #B8860B; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        
        /* ç‹€æ…‹çµ±è¨ˆå¡ç‰‡ */
        .stats-container { display: flex; gap: 20px; margin-bottom: 30px; }
        .stat-card { flex: 1; background: white; padding: 20px; border-radius: 8px; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.05); border-top: 4px solid #002D56; }
        .stat-card h3 { margin: 0; color: #666; font-size: 1rem; }
        .stat-card .num { font-size: 2.5rem; font-weight: bold; color: #A51C30; margin: 10px 0 0 0; }

        /* å…¬æ–‡åˆ—è¡¨è¡¨æ ¼ */
        .doc-table-container { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        table { width: 100%; border-collapse: collapse; }
        th, td { border-bottom: 1px solid #eee; padding: 15px 10px; text-align: left; }
        th { background: #f8f9fa; color: #333; font-weight: bold; }
        tr:hover { background: #fdfdfd; cursor: pointer; }
        .tag { padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; font-weight: bold; color: white; }
        .tag-urgent { background: #dc3545; }
        .tag-normal { background: #002D56; }
        .tag-secret { background: #212529; color: #B8860B; border: 1px solid #B8860B; }
        
        /* äº’å‹•å¼å…¬æ–‡ç°½æ ¸è¦–çª— */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,21,43,0.8); z-index: 1000; justify-content: center; align-items: center; backdrop-filter: blur(5px); }
        .modal-content { background: white; padding: 40px; border-radius: 8px; width: 90%; max-width: 700px; position: relative; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .close-btn { position: absolute; top: 15px; right: 20px; font-size: 1.5rem; cursor: pointer; color: #aaa; }
        .close-btn:hover { color: #A51C30; }
        
        .doc-header { border-bottom: 2px solid #002D56; padding-bottom: 15px; margin-bottom: 20px; }
        .doc-header h2 { margin: 0 0 10px 0; color: #002D56; }
        .doc-meta { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.95rem; color: #555; background: #f9f9f9; padding: 15px; border-radius: 4px; }
        .doc-body { line-height: 1.8; color: #333; margin-bottom: 30px; font-size: 1.05rem; }
        
        /* ç°½æ ¸å‹•ä½œå€ */
        .action-area { background: #fdf8e4; padding: 20px; border-radius: 4px; border-left: 4px solid #B8860B; }
        .pin-input { width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ccc; border-radius: 4px; font-size: 1rem; box-sizing: border-box; }
        .btn-group { display: flex; gap: 10px; }
        .btn { flex: 1; padding: 12px; border: none; border-radius: 4px; font-size: 1.1rem; font-weight: bold; cursor: pointer; color: white; transition: 0.3s; }
        .btn-approve { background: #28a745; }
        .btn-approve:hover { background: #218838; }
        .btn-reject { background: #dc3545; }
        .btn-reject:hover { background: #c82333; }
        
        /* ç°½æ ¸æˆåŠŸå‹•ç•«æç¤º */
        #toast { display: none; position: fixed; top: 20px; right: 20px; background: #28a745; color: white; padding: 15px 25px; border-radius: 4px; font-weight: bold; box-shadow: 0 5px 15px rgba(0,0,0,0.2); z-index: 2000; animation: fadeInOut 3s forwards; }
        @keyframes fadeInOut { 0% { opacity: 0; transform: translateY(-20px); } 10% { opacity: 1; transform: translateY(0); } 90% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-20px); } }
    </style>
</head>
<body>
    <div id="toast">âœ… å…¬æ–‡å·²ä½¿ç”¨ã€Œç‹é–”å¼˜ å­¸è¡“å‰¯æ ¡é•·ã€æ•¸ä½æ†‘è­‰ç°½ç½²ä¸¦åŒæ­¥è‡³å€å¡Šéˆã€‚</div>

    <div class="sidebar">
        <h2>æ¥µå…ƒå…¬æ–‡é›»å­äº¤æ›ç¶²<br><span style="font-size: 0.8rem; color: #B8860B;">å‹ç™¼é›†åœ˜ Level 5 æˆæ¬Š</span></h2>
        <a href="teacher-dashboard.html" class="menu-item">â¬… è¿”å›æ•™è·å“¡å…¥å£</a>
        <a href="#" class="menu-item" style="background: #A51C30; border-left: 5px solid #B8860B;">ğŸ“ å¾…ç°½æ ¸å…¬æ–‡ (<span id="menuPendingCount">3</span>)</a>
        <a href="#" class="menu-item">ğŸ“ å·²æ±ºè¡Œæ­¸æª”</a>
        <a href="#" class="menu-item">ğŸ” é›†åœ˜æ©Ÿå¯†èª¿é–±</a>
    </div>

    <div class="main-content">
        <div class="header">
            <div style="font-weight: bold; color: #333;">ç‹é–”å¼˜ å‰¯æ ¡é•·ï¼Œæ‚¨æœ‰ <span style="color:#A51C30;">å¾…è™•ç†ä¹‹æ€¥ä»¶</span>ã€‚</div>
            <div style="font-size: 0.9rem; color: #666;">ç³»çµ±æ™‚é–“ï¼š2026-02-25 10:00:00</div>
        </div>

        <div class="stats-container">
            <div class="stat-card"><h3>å¾…ç°½æ ¸ (Pending)</h3><div class="num" id="pendingCount">3</div></div>
            <div class="stat-card"><h3>ä»Šæ—¥å·²æ±ºè¡Œ (Approved)</h3><div class="num" id="approvedCount" style="color:#28a745;">12</div></div>
            <div class="stat-card"><h3>å·²é€€ä»¶ (Rejected)</h3><div class="num" id="rejectedCount" style="color:#666;">0</div></div>
        </div>

        <div class="doc-table-container">
            <h3 style="margin-top:0; color:#002D56;">å¾…è¾¦æ¸…å–®</h3>
            <table id="docTable">
                <tr><th>å…¬æ–‡é€Ÿåˆ¥</th><th>ç™¼æ–‡å–®ä½</th><th>ä¸»æ—¨</th><th>æ”¶åˆ°æ™‚é–“</th><th>æ“ä½œ</th></tr>
                <tr id="row-1" onclick="openDoc(1, 'æ¥µæ€¥ä»¶', 'è¡Œæ”¿å‰¯æ ¡é•·å®¤ (å¼µå®¶ç¶º)', 'æ’¥æ¬¾ç”³è«‹ï¼šç¬¬ä¸ƒä»£æ˜Ÿéš›é€šè¨Šé™£åˆ—ç¬¬äºŒæœŸ 990 å„„è³‡é‡‘æ ¸æ’¥', '2026-02-25 08:30', 'ä¾æ“šå‹ç™¼é›†åœ˜è‘£äº‹æœƒæ±ºè­°ï¼Œæ‡‡è«‹ å­¸è¡“å‰¯æ ¡é•· æ ¸å‡†ç¬¬äºŒæœŸç ”ç™¼è³‡é‡‘ NT$ 99,000,000,000 å…ƒæ•´ï¼Œä»¥åˆ©äºåŸå­å¯¦é©—å®¤æ¡è³¼é‡å­è™•ç†å™¨æ¨¡çµ„ã€‚')">
                    <td><span class="tag tag-urgent">æ¥µæ€¥ä»¶</span></td><td>è¡Œæ”¿å‰¯æ ¡é•·å®¤</td><td>æ’¥æ¬¾ç”³è«‹ï¼šç¬¬ä¸ƒä»£æ˜Ÿéš›é€šè¨Šé™£åˆ—ç¬¬äºŒæœŸ 990 å„„è³‡é‡‘æ ¸æ’¥</td><td>08:30</td>
                    <td><button style="padding:5px 10px; cursor:pointer;">é–‹å•Ÿç°½æ ¸</button></td>
                </tr>
                <tr id="row-2" onclick="openDoc(2, 'æ©Ÿå¯†', 'é›»æ©Ÿè³‡è¨Šå­¸é™¢ (è¶™é¼ç››)', 'äººäº‹è˜ä»»ï¼šå»¶æ”¬å‰éº»çœç†å·¥ AI å¯¦é©—å®¤ä¸»ä»»æ“”ä»»å®¢åº§æ•™æˆ', '2026-02-24 16:45', 'ç‚ºå¼·åŒ–æœ¬é™¢ç ”ç™¼èƒ½é‡ï¼Œæ“¬å‹•ç”¨å‹ç™¼æ˜Ÿéš›åŸºé‡‘ï¼Œä»¥å¹´è–ª 500 è¬ç¾é‡‘å»¶æ”¬å‰ MIT ä¸»ä»»ã€‚è«‹ å‰¯æ ¡é•· è£ç¤ºã€‚')">
                    <td><span class="tag tag-secret">æœ€é«˜æ©Ÿå¯†</span></td><td>é›»è³‡å­¸é™¢</td><td>äººäº‹è˜ä»»ï¼šå»¶æ”¬å‰éº»çœç†å·¥ AI å¯¦é©—å®¤ä¸»ä»»</td><td>æ˜¨ 16:45</td>
                    <td><button style="padding:5px 10px; cursor:pointer;">é–‹å•Ÿç°½æ ¸</button></td>
                </tr>
                <tr id="row-3" onclick="openDoc(3, 'æ™®é€š', 'åœ‹é˜²éƒ¨é€šè³‡æ¬¡é•·å®¤', 'åˆç´„ç°½ç½²ï¼šåœ‹å®¶æ•¸ä½ç›¾ç‰Œå¯†ç¢¼æˆæ¬Šå”è­°', '2026-02-24 10:15', 'æœ‰é—œæœ¬æ ¡å”åŠ©å»ºç½®ã€Œåœ‹å®¶æ•¸ä½é˜²ç¦¦ç›¾ç‰Œã€ä¸€æ¡ˆï¼Œè«‹ å­¸è¡“å‰¯æ ¡é•· é€²è¡Œæœ€çµ‚æ•¸ä½ç°½ç½²ï¼Œæˆæ¬Šé›¶çŸ¥è­˜è­‰æ˜åŸå§‹ç¢¼äºˆè»æ–¹ä½¿ç”¨ã€‚')">
                    <td><span class="tag tag-normal">æ™®é€šä»¶</span></td><td>åœ‹é˜²éƒ¨</td><td>åˆç´„ç°½ç½²ï¼šåœ‹å®¶æ•¸ä½ç›¾ç‰Œå¯†ç¢¼æˆæ¬Šå”è­°</td><td>æ˜¨ 10:15</td>
                    <td><button style="padding:5px 10px; cursor:pointer;">é–‹å•Ÿç°½æ ¸</button></td>
                </tr>
            </table>
        </div>
    </div>

    <div id="docModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <div class="doc-header">
                <h2 id="modalSubject">å…¬æ–‡ä¸»æ—¨</h2>
            </div>
            <div class="doc-meta">
                <div><strong>ç™¼æ–‡å–®ä½ï¼š</strong> <span id="modalSender"></span></div>
                <div><strong>å…¬æ–‡é€Ÿåˆ¥ï¼š</strong> <span id="modalType"></span></div>
                <div><strong>æ”¶æ–‡æ™‚é–“ï¼š</strong> <span id="modalTime"></span></div>
                <div><strong>é™„ä»¶ï¼š</strong> <span style="color:#0056b3; cursor:pointer; text-decoration:underline;">ğŸ“„ æª¢è¦–åŠ å¯†é™„ä»¶ (PDF)</span></div>
            </div>
            <div class="doc-body" id="modalBody">
                å…¬æ–‡è©³ç´°å…§å®¹...
            </div>
            
            <div class="action-area">
                <label style="font-weight:bold; color:#A51C30;">ğŸ” å‹ç™¼é«˜éšæ•¸ä½æ†‘è­‰ç°½ç½² (Digital Signature)</label>
                <input type="password" id="digitalPin" class="pin-input" placeholder="è«‹è¼¸å…¥æ‚¨çš„æˆæ¬Šå¯†ç¢¼ (é è¨­: 123)">
                <div class="btn-group">
                    <button class="btn btn-approve" onclick="processDoc('approve')">åŒæ„æ ¸å‡† (Approve)</button>
                    <button class="btn btn-reject" onclick="processDoc('reject')">é€€å›é‡æ“¬ (Reject)</button>
                </div>
                <div id="pinError" style="color:#dc3545; margin-top:10px; display:none; font-weight:bold;">âŒ æ•¸ä½æ†‘è­‰å¯†ç¢¼éŒ¯èª¤ï¼</div>
            </div>
        </div>
    </div>

    <script>
        let currentDocId = null;

        // æ‰“é–‹å…¬æ–‡
        function openDoc(id, type, sender, subject, time, body) {
            currentDocId = id;
            document.getElementById('modalType').innerText = type;
            document.getElementById('modalSender').innerText = sender;
            document.getElementById('modalSubject').innerText = subject;
            document.getElementById('modalTime').innerText = time;
            document.getElementById('modalBody').innerText = body;
            document.getElementById('digitalPin').value = ''; // æ¸…ç©ºå¯†ç¢¼æ¬„
            document.getElementById('pinError').style.display = 'none';
            document.getElementById('docModal').style.display = 'flex';
        }

        // é—œé–‰å…¬æ–‡
        function closeModal() {
            document.getElementById('docModal').style.display = 'none';
        }

        // è™•ç†ç°½æ ¸é‚è¼¯ (æ ¸å¿ƒäº’å‹•)
        function processDoc(action) {
            const pin = document.getElementById('digitalPin').value;
            if (pin !== '123') {
                document.getElementById('pinError').style.display = 'block';
                return;
            }

            // å¯†ç¢¼æ­£ç¢ºï¼Œéš±è—è¦–çª—
            closeModal();

            // ç§»é™¤å·²ç¶“ç°½æ ¸çš„å…¬æ–‡åˆ—
            const row = document.getElementById('row-' + currentDocId);
            if (row) {
                row.parentNode.removeChild(row);
            }

            // æ›´æ–°çµ±è¨ˆæ•¸å­—
            let pending = parseInt(document.getElementById('pendingCount').innerText);
            document.getElementById('pendingCount').innerText = pending - 1;
            document.getElementById('menuPendingCount').innerText = pending - 1;

            if (action === 'approve') {
                let approved = parseInt(document.getElementById('approvedCount').innerText);
                document.getElementById('approvedCount').innerText = approved + 1;
                showToast("âœ… å…¬æ–‡å·²æ ¸å‡†ï¼æ•¸ä½ç°½ç« å·²ä¸Šéˆã€‚");
            } else {
                let rejected = parseInt(document.getElementById('rejectedCount').innerText);
                document.getElementById('rejectedCount').innerText = rejected + 1;
                showToast("âš ï¸ å…¬æ–‡å·²é€€å›ç™¼æ–‡å–®ä½ï¼", "#dc3545");
            }
        }

        // é¡¯ç¤ºæˆåŠŸ/é€€å›æç¤ºè¨Šæ¯
        function showToast(message, bgColor = "#28a745") {
            const toast = document.getElementById('toast');
            toast.innerText = message;
            toast.style.background = bgColor;
            toast.style.display = 'block';
            
            // é‡ç½®å‹•ç•«
            toast.style.animation = 'none';
            toast.offsetHeight; /* è§¸ç™¼é‡ç¹ª */
            toast.style.animation = null;

            setTimeout(() => { toast.style.display = 'none'; }, 3000);
        }
    </script>
</body>
</html>
